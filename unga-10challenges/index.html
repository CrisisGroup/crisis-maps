<!DOCTYPE html>
<html>

<head>
	<!DOCTYPE html>
	<html>

	<head>
		<meta charset="utf-8">
		<title>Global U.S. Sanctions</title>
		<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
		<link href="https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.css" rel="stylesheet">
		<script src="https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.js"></script>
		<script src="https://code.jquery.com/jquery-3.5.1.min.js"
			integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
		<script
			src="https://cdn.jsdelivr.net/npm/mapbox-gl-animated-popup@v0.3.0/dist/mapbox-gl-animated-popup.min.js"></script>
		<link rel="stylesheet" href="https://use.typekit.net/kjv8sgv.css">
		<link href='style.css' rel='stylesheet' />

		<script>
			$(document).ready(function () {
				$("#mobilemenubtn").click(function () {
					$(".box").slideToggle("slow");
				});
			});
		</script>

	</head>

<body>
	<!-- Load the `mapbox-gl-geocoder` plugin. -->
	<script
		src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js"></script>
	<link rel="stylesheet"
		href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.css"
		type="text/css">
	<div id="mobilemenubtn"> MENU </div>
	<div class="box">

		<h1>WHAT <span style="color:#000;">CONFLICTS</span> SHOULD THE UNGA LOOK AT?</h1>
		<!-- <p id="tagline">This map shows the locations of individuals and entities who are on the U.S. Treasuryâ€™s Specially Designated Nationals List. The darker the country, the higher the number of sanctions targets in that country.</p>
<hr />
<p id="legend-tagline"><strong>LEGEND</strong></p>

<div class="color-line">
    <div class="color-part">LOW</div>
    <div class="color-part">MEDIUM</div>
    <div class="color-part">HIGH</div>
</div>

  <button id="toggleButton">Toggle Country Names</button> -->
		<!-- <ul id="legend">
<li><div><span style='background-color: hsla(38, 66%, 83%, 0.4); border: solid 1px #fff; border-radius: 100px; width: 15px; height: 15px;'></span>Less than 10</div></li>
<li><div><span style='background-color: #d6a44c; border: solid 1px #fff; border-radius: 100px; width: 15px; height: 15px;'></span>More than 100</div></li>
<li><div><span style='background-color: #d6a44c; border: solid 1px #fff; border-radius: 100px; width: 15px; height: 15px;'></span>More than 2,000</div></li>
</ul> -->
		<nav id="menu"></nav>
	</div>
	<div id="map"></div>
	<div id="loading">
	<div id="ukraine" class="custom-marker">The UN should continue aiding suffering populations while preserving options
		to
		ease the fighting or end the war if conditions change.<h2>Ukraine</h2>
	</div>
	<div id="afghan" class="custom-marker">Donors should empower the UN to provide to provide much-needed development
		support, even as the Taliban remain outcasts.<h2>Afghanistan</h2>
	</div>
	<div id="sudan" class="custom-marker">Security Council diplomats should speak up and weigh in behind efforts to end
		the fighting.<h2>Sudan</h2>
	</div>
	<div id="southSudan" class="custom-marker">The UN will need to decide whether to support the upcoming elections, and
		how to prevent and mitigate any potential unrest.<h2>South Sudan</h2>
	</div>
	<div id="mali" class="custom-marker">The UN will need to look for limited political openings after peacekeepers
		leave, but should not abandon Mali altogether.<h2>Mali</h2>
	</div>
	<div id="haiti" class="custom-marker">The Security Council should help Haiti resolve its political crisis and
		mandate a new security support mission.<h2>Haiti</h2>
	</div>
	<div id="unga" class="custom-marker">The U.S. should continue moving reform discussions
		forward if it wants to convince others that the Council is still a serious platform for discussion.<h2>New York</h2>
	</div>
</div>
	<div id="mobilemenu"></div>

	<script>
		document.getElementById('loading').style.display = 'none';

// Show the map container
document.getElementById('map').style.display = 'block';

		mapboxgl.accessToken = 'pk.eyJ1IjoiZGFsdG9ud2IiLCJhIjoiOWdSSXFQSSJ9.HZyjh4g3TAAOAncwelv9Vw';
		const map = new mapboxgl.Map({
			container: 'map',
			style: 'mapbox://styles/daltonwb/clmje1grv046s01qiea1p78ld',
			center: [-12.10634, 40.71023],
			zoom: 2.5,
			bearing: 0,
			projection: 'globe',
			pitch: 0,
			maxZoom: 4,
			minZoom: 2.5,
			attributionControl: false
		});

		map.addControl(
			new MapboxGeocoder({
				accessToken: mapboxgl.accessToken,
				mapboxgl: mapboxgl
			})
		);

		map.scrollZoom.disable();
		map.addControl(new mapboxgl.FullscreenControl());
		map.addControl(new mapboxgl.NavigationControl({
			visualizePitch: true
		}));
		map.addControl(new mapboxgl.AttributionControl({
			customAttribution: 'International Crisis Group | Data: <a href="https://ofac.treasury.gov/specially-designated-nationals-list-data-formats-data-schemas" target="_blank">Crisis Group</a>'
		}));

		// PASSIVE ROTATION
		map.on('load', () => {

			const center = map.getCenter();
			const newCenter = [center.lng + 360, center.lat];
			map.easeTo({
				center: newCenter,
				duration: 100000,
				easing: n => n
			});

			const points = [
				[29.883169, 7.166656], // South Sudan
				[31.374019, 49.652727], // Ukraine
				[66.019723, 33.846664], // Afghanistan
				[30.025771, 17.62436], // Sudan
				[-1.696222, 18.066419], // Mali
				[-72.649713, 19.090991], // Haiti
				[-73.970053, 40.749172], // New York
			];


			var ukraine = new mapboxgl.Marker({ element: document.getElementById('ukraine'), anchor: 'bottom-left', offset: [0, 20], })
				.setLngLat([31.374019, 49.652727]) // Coordinates to anchor the element
				.addTo(map);
			var afghan = new mapboxgl.Marker({ element: document.getElementById('afghan'), anchor: 'bottom-left', offset: [0, 20], })
				.setLngLat([66.019723, 33.846664]) // Coordinates to anchor the element
				.addTo(map);
			var sudan = new mapboxgl.Marker({ element: document.getElementById('sudan'), anchor: 'bottom-left', offset: [0, 20], })
				.setLngLat([30.025771, 17.62436]) // Coordinates to anchor the element
				.addTo(map);
			var southSudan = new mapboxgl.Marker({ element: document.getElementById('southSudan'), anchor: 'top-left', offset: [0, 20], })
				.setLngLat([29.883169, 7.166656]) // Coordinates to anchor the element
				.addTo(map);
			var mali = new mapboxgl.Marker({ element: document.getElementById('mali'), anchor: 'bottom-left', offset: [0, 20], })
				.setLngLat([-1.696222, 18.066419]) // Coordinates to anchor the element
				.addTo(map);
			var haiti = new mapboxgl.Marker({ element: document.getElementById('haiti'), anchor: 'bottom-left', offset: [0, 20], })
				.setLngLat([-72.649713, 19.090991]) // Coordinates to anchor the element
				.addTo(map);
			var unga = new mapboxgl.Marker({ element: document.getElementById('unga'), anchor: 'bottom-left', offset: [0, 20], })
				.setLngLat([-73.970053, 40.749172]) // Coordinates to anchor the element
				.addTo(map);

			const circleMarker = new mapboxgl.Marker({
				element: createCircleElement(), // Create a custom circle element
				anchor: 'bottom', // Adjust anchor as needed
				offset: [0, 0], // Adjust offset as needed
			});

			function createCircleMarker(coordinates) {
				return new mapboxgl.Marker({
					element: createCircleElement(), // Create a custom circle element
					anchor: 'center', // Adjust anchor as needed
					offset: [0, 0], // Adjust offset as needed
				}).setLngLat(coordinates); // Set the coordinates for the marker
			}

			// Helper function to create a custom circle element
			function createCircleElement() {
				const el = document.createElement('div');
				el.className = 'circle-marker';
				// Apply custom styling to the circle element (black circle with white stroke)
				el.style.width = '25px';
				el.style.height = '25px';
				el.style.backgroundColor = 'black';
				el.style.border = '1px solid white'; // 1px white stroke
				el.style.borderRadius = '50%';
				return el;
			}

			// Create and add the circle markers for each set of coordinates
			points.forEach(coordinates => {
				createCircleMarker(coordinates).addTo(map);
			});
		});

	</script>

</body>

</html>